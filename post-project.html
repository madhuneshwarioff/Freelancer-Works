<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Post a Project | Freelancer Works</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #f5f6fa;
      margin: 0;
      padding: 0;
    }

    .form-section {
      max-width: 700px;
      background: #fff;
      margin: 60px auto;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      padding: 40px 50px;
    }

    .form-section h2 {
      text-align: center;
      font-size: 2em;
      margin-bottom: 25px;
      color: #22223b;
    }

    label {
      display: block;
      margin: 14px 0 6px;
      font-weight: 500;
      color: #333;
    }

    input[type="text"],
    input[type="file"],
    textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1em;
      background: #fafafa;
      transition: border 0.3s ease;
    }

    input:focus, textarea:focus {
      border-color: #007bff;
      outline: none;
      background: #fff;
    }

    textarea {
      resize: vertical;
      min-height: 120px;
    }

    .project-type-options {
      display: flex;
      gap: 20px;
      margin: 10px 0 20px;
    }

    .project-type-options label {
      font-weight: normal;
    }

    .btn-submit {
      background-color: #007bff;
      color: #fff;
      font-size: 1.1em;
      padding: 12px 32px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
      transition: background 0.3s ease;
      display: block;
      width: 100%;
    }

    .btn-submit:hover {
      background-color: #0056b3;
    }

    footer {
      margin-top: 60px;
    }

    @media (max-width: 600px) {
      .form-section {
        padding: 25px;
      }
    }
  </style>
</head>
<body>

  <!-- Header (same as index.html) -->
  <header>
    <h1>Freelancer Works</h1>
    <nav>
      <div class="dropdown">
        <a href="hire-freelancers.html">Hire Freelancers ▾</a>
        <div class="dropdown-content">
          <div class="drop-card">
            <a href="hire-freelancers.html?filter=skill">
              <h4>By skill</h4>
              <p>Looking for a freelancer with a specific skill? Start here.</p>
            </a>
          </div>
          <div class="drop-card">
            <a href="hire-freelancers.html?filter=location">
              <h4>By location</h4>
              <p>Search for freelancers based on their location and timezone.</p>
            </a>
          </div>
          <div class="drop-card">
            <a href="hire-freelancers.html?filter=category">
              <h4>By category</h4>
              <p>Find freelancers that suit a certain project category.</p>
            </a>
          </div>
        </div>
      </div>

      <div class="dropdown">
        <a href="#">Find Work ▾</a>
        <div class="dropdown-content">
          <div class="drop-card"><h4>By skill</h4><p>Search for work that requires a particular skill.</p></div>
          <div class="drop-card"><h4>By language</h4><p>Find projects that are in your language.</p></div>
          <div class="drop-card"><h4>Featured jobs</h4><p>Explore our top featured projects.</p></div>
          <div class="drop-card"><h4>Find contests</h4><p>Join contests and showcase your talent.</p></div>
        </div>
      </div>

      <div class="dropdown">
        <a href="#">Solutions ▾</a>
        <div class="dropdown-content">
          <div class="drop-card"><h4>Enterprise</h4><p>Power your competitive advantage with enterprise solutions.</p></div>
          <div class="drop-card"><h4>Field Services</h4><p>Deliver expertise worldwide at scale - on demand.</p></div>
          <div class="drop-card"><h4>Freelancer API</h4><p>Access a cloud workforce of skilled freelancers.</p></div>
          <div class="drop-card"><h4>AI for business</h4><p>Let AI experts transform your business.</p></div>
        </div>
      </div>
      <a href="index.html" style="margin-right:10px;">Home</a>
      <a href="login.html">Log In</a>
      <a href="signup.html" class="signup">Sign Up</a>
      <button class="btn-primary">Post a Project</button>
    </nav>
  </header>

  <!-- Project Form Section -->
  <section class="form-section">
    <h2>Post a Project</h2>
    <form id="post-project-form">
      <label for="title">Project Title</label>
      <input type="text" id="title" name="title" placeholder="e.g., Build a React website" required>

      <label for="description">Project Description</label>
      <textarea id="description" name="description" placeholder="Describe your project in detail..." required></textarea>

      <label for="skills">Technologies</label>
      <input type="text" id="skills" name="skills" placeholder="e.g., JavaScript, Python, Logo Design" required>

      <label for="file">Attach Files</label>
      <input type="file" id="file" name="file" multiple>
      


      <label for="location">Preferred Location (optional)</label>
      <input type="text" id="location" name="location" placeholder="e.g., Remote, Mumbai, USA">

      <button type="submit" class="btn-submit">Post Project</button>
    </form>
  </section>

  <footer>
    <p>© 2025 Freelancer Works | Built by Madhuneshwari</p>
  </footer>

  <script>
 app.post('/post-project', async (req, res) => {
  try {
    const { title, description, skills, location } = req.body;
    // Allow optional fields, no budget/projectType needed

    // Create new project document with available fields
    const newProject = new Project({ 
      title, 
      description, 
      skills, 
      location 
    });

    await newProject.save();
    res.json({ message: "Project posted successfully!" });
  } catch (error) {
    console.error("Post project error:", error);
    res.status(500).json({ message: "Server error during posting project" });
  }
});
const mongoose = require('mongoose');

const ProjectSchema = new mongoose.Schema({
  title: { type: String, required: true },
  description: { type: String, required: true },
  skills: { type: String, required: true },
  location: { type: String },  // optional
  createdAt: { type: Date, default: Date.now }
});

module.exports = mongoose.model('Project', ProjectSchema);

app.post('/post-project', async (req, res) => {
  console.log('Received request body:', req.body); // Add this line
  try {
    const { title, description, skills, location } = req.body;
    const newProject = new Project({ title, description, skills, location });
    await newProject.save();
    console.log('New project saved:', newProject); // And this line
    res.json({ message: "Project posted successfully!" });
  } catch (error) {
    console.error("Post project error:", error);
    res.status(500).json({ message: "Server error during posting project" });
  }
});

  </script>

</body>
</html>
